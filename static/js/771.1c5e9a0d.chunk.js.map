{"version":3,"file":"static/js/771.1c5e9a0d.chunk.js","mappings":"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","sources":["API/index.js","components/FilmsList/FilmsList.js","components/Searchbar/Searchbar.styled.js","components/Searchbar/Searchbar.js","pages/Movies.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'b4b59a799c6c994a741788cb06805fdc';\naxios.defaults.baseURL = 'https://api.themoviedb.org/';\n\nexport async function fetchTrending() {\n  const response = await axios('/3/trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return response.data;\n}\n\nexport async function fetchMoviesByName(name) {\n  const response = await axios('/3/search/movie', {\n    params: {\n      api_key: API_KEY,\n      query: name,\n      page: 1,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieId(movieId) {\n  const response = await axios(`/3/movie/${movieId}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieCast(movieId) {\n  const response = await axios(`/3/movie/${movieId}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const response = await axios(`/3/movie/${movieId}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n","import { NavLink } from 'react-router-dom';\n\nexport default function FilmsList({ films }) {\n  return (\n    <>\n      <ul>\n        {films.map(film => (\n          <li key={film.id}>\n            <NavLink to={`/movies/${film.id}`}>{film.title}</NavLink>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import styled from 'styled-components';\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;npm i styled-components\n  }\n`;\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n`;\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\nexport const SearchbarStyled = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  SearchbarStyled,\n  Input,\n  SearchButton,\n  SearchForm,\n} from './Searchbar.styled';\nimport { useSearchParams } from 'react-router-dom';\nexport const Searchbar = ({ onSubmit }) => {\n  const [searchParams] = useSearchParams();\n  const search = searchParams.get('query') ?? '';\n  const [searchValue, setSearchValue] = useState(search);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(searchValue);\n    searchValue && onSubmit(searchValue);\n  };\n  const onChange = event => {\n    setSearchValue(event.currentTarget.value);\n  };\n\n  return (\n    <SearchbarStyled>\n      <SearchForm onSubmit={handleSubmit}>\n        <SearchButton type=\"submit\">search</SearchButton>\n        <Input\n          onChange={onChange}\n          type=\"text\"\n          autocomplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n        />\n      </SearchForm>\n    </SearchbarStyled>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { fetchMoviesByName } from 'API';\nimport FilmsList from 'components/FilmsList/FilmsList';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nexport default function Movies() {\n  const [found, setFound] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const currentFilm = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!currentFilm) {\n      return;\n    }\n    const fetch = async () => {\n      try {\n        const film = await fetchMoviesByName(currentFilm);\n        setFound(film.results);\n      } catch (error) {}\n    };\n    fetch();\n  }, [currentFilm]);\n  const handleSubmit = query => {\n    setSearchParams({ query });\n  };\n  return (\n    <div>\n      <Searchbar onSubmit={handleSubmit} />\n      {found && <FilmsList films={found} />}\n    </div>\n  );\n}\n"],"names":["API_KEY","fetchTrending","axios","params","api_key","response","data","fetchMoviesByName","name","query","page","fetchMovieId","movieId","fetchMovieCast","fetchMovieReviews","FilmsList","films","map","film","to","id","title","Input","styled","SearchButton","SearchForm","SearchbarStyled","Searchbar","onSubmit","useSearchParams","search","get","useState","searchValue","setSearchValue","event","preventDefault","console","log","type","onChange","currentTarget","value","autocomplete","autoFocus","placeholder","Movies","found","setFound","searchParams","setSearchParams","currentFilm","useEffect","fetch","results"],"sourceRoot":""}